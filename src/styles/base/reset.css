/**
 * Base Styles & Reset
 * Comprehensive reset for Shadow DOM context to prevent external CSS interference
 * Fixes: WordPress theme zoom/scale issues, font-size inheritance, transform issues
 */

/* ========================================
   CRITICAL: Prevent External CSS Interference
   ======================================== */

/* Reset ALL inherited transformations and scaling from WordPress/external themes */
:host,
:host(*),
.kalifinder-widget-root,
.kalifinder-widget-root *,
#my-ui,
#my-ui * {
  /* Reset transforms (WordPress themes often apply scale/zoom) */
  transform: none !important;
  -webkit-transform: none !important;
  -moz-transform: none !important;
  -ms-transform: none !important;
  -o-transform: none !important;

  /* Reset zoom (some WordPress themes use zoom property) */
  zoom: 1 !important;
  -webkit-zoom: 1 !important;
  -moz-zoom: 1 !important;

  /* Reset text-size-adjust (prevents mobile browser auto-scaling) */
  -webkit-text-size-adjust: 100% !important;
  -moz-text-size-adjust: 100% !important;
  -ms-text-size-adjust: 100% !important;
  text-size-adjust: 100% !important;

  /* Reset font-size to prevent inheritance from external themes */
  /* Will be overridden by specific component styles */
  font-size: inherit;
  line-height: inherit;
}

/* Root-level font size reset to 16px base */
:host {
  /* CRITICAL: Override WordPress font-size inheritance */
  font-size: 16px !important;
  line-height: 1.5 !important;

  /* Force all children to use 16px as base for rem calculations */
  -webkit-text-size-adjust: 100% !important;
  text-size-adjust: 100% !important;
}

/* Force 16px base for ALL elements inside shadow root */
:host *,
.kalifinder-widget-root,
.kalifinder-widget-root * {
  /* Reset font-size inheritance from external page */
  font-size: 1rem; /* Now 1rem = 16px, not 18px */
}

/* Shadow DOM Font */
#my-ui :where(*) {
  font-family: var(--font-family);
}

/* Base Layer */
@layer base {
  * {
    border-color: var(--border);
  }

  body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-family);
  }

  /* Shadow DOM specific */
  #my-ui * {
    border-color: var(--border);
  }

  #my-ui body {
    background: var(--background);
    color: var(--foreground);
  }
}

/* Legacy utilities */
.kf-my-border {
  border: 1px solid black;
}

.my-border {
  border: 1px solid var(--border);
}

.w-70 {
  width: var(--sidebar-width);
}

/* Results column */
.kalifinder-results {
  min-width: 0;
}
