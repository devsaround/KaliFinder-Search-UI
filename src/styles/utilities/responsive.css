/**
 * Responsive Grid Utilities
 * Enhanced responsive breakpoints for tablet optimization
 */

/* ========================================
   PRODUCT GRID RESPONSIVE IMPROVEMENTS
   ======================================== */

/* Enhanced responsive grid with tablet support */
.kalifinder-product-grid {
  display: grid;
  gap: 0.5rem; /* 8px */
  width: 100%;
}

/* Mobile: 2 columns (default) */
@media (max-width: 639px) {
  .kalifinder-product-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem; /* 8px */
  }
}

/* Small tablets: 3 columns - using default Tailwind responsive classes */

/* Large tablets: 3 columns with more spacing */
@media (min-width: 768px) and (max-width: 1023px) {
  .kalifinder-product-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem; /* 16px */
  }
}

/* Desktop: 4 columns */
@media (min-width: 1024px) {
  .kalifinder-product-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem; /* 12px */
  }
}

/* Large desktop: 5 columns */
@media (min-width: 1536px) {
  .kalifinder-product-grid {
    grid-template-columns: repeat(5, 1fr);
    gap: 1rem; /* 16px */
  }
}

/* ========================================
   FILTER BUTTON (Mobile/Tablet)
   ======================================== */

.kalifinder-filter-toggle {
  display: block;
}

/* Hide on desktop when sidebar is visible */
@media (min-width: 1024px) {
  .kalifinder-filter-toggle {
    display: none;
  }
}

/* ========================================
   TYPOGRAPHY RESPONSIVE ADJUSTMENTS
   ======================================== */

/* Product card title responsiveness */
.kalifinder-product-title {
  font-size: 0.875rem; /* 14px */
  line-height: 1.5;
}

@media (min-width: 640px) {
  .kalifinder-product-title {
    font-size: 0.9375rem; /* 15px */
  }
}

@media (min-width: 768px) {
  .kalifinder-product-title {
    font-size: 1rem; /* 16px */
  }
}

@media (min-width: 1024px) {
  .kalifinder-product-title {
    font-size: 1rem; /* 16px */
  }
}

/* Product price responsiveness */
.kalifinder-product-price {
  font-size: 1rem; /* 16px */
}

@media (min-width: 768px) {
  .kalifinder-product-price {
    font-size: 1.125rem; /* 18px */
  }
}

@media (min-width: 1024px) {
  .kalifinder-product-price {
    font-size: 1.125rem; /* 18px */
  }
}

/* ========================================
   CONTAINER RESPONSIVE PADDING
   ======================================== */

.kalifinder-container {
  padding-left: 0.5rem; /* 8px */
  padding-right: 0.5rem;
}

@media (min-width: 640px) {
  .kalifinder-container {
    padding-left: 1rem; /* 16px */
    padding-right: 1rem;
  }
}

@media (min-width: 768px) {
  .kalifinder-container {
    padding-left: 1.5rem; /* 24px */
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .kalifinder-container {
    padding-left: 1rem; /* 16px */
    padding-right: 1rem;
  }
}

/* ========================================
   SEARCH BAR RESPONSIVE
   ======================================== */

.kalifinder-search-bar {
  font-size: 0.875rem; /* 14px */
  padding: 0.75rem; /* 12px */
}

@media (min-width: 640px) {
  .kalifinder-search-bar {
    font-size: 0.9375rem; /* 15px */
    padding: 0.875rem; /* 14px */
  }
}

@media (min-width: 768px) {
  .kalifinder-search-bar {
    font-size: 1rem; /* 16px */
    padding: 1rem; /* 16px */
  }
}

/* ========================================
   SEARCH BAR CONTAINER & INPUT MOBILE FIXES
   ======================================== */

/* Ensure search bar container is always visible and properly sized */
.kalifinder-widget-content [role='search'],
.kalifinder-widget-content div[role='search'] {
  display: flex !important;
  width: 100% !important;
  min-width: 0 !important;
  flex: 1 1 0% !important;
  box-sizing: border-box !important;
  overflow: visible !important;
}

/* Search input container - ensure it takes available space */
.kalifinder-widget-content .relative.flex-1,
.kalifinder-widget-content div.relative.flex-1 {
  min-width: 0 !important;
  flex: 1 1 0% !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  overflow: visible !important;
}

/* Search input wrapper */
.kalifinder-widget-content [role='search'] > div,
.kalifinder-widget-content div[role='search'] > div {
  min-width: 0 !important;
  width: 100% !important;
  flex: 1 1 0% !important;
  box-sizing: border-box !important;
}

/* Search input field - ensure it's always visible */
.kalifinder-widget-content [role='search'] input[type='text'],
.kalifinder-widget-content [role='search'] input[id='search-input'],
.kalifinder-widget-content input[id='search-input'] {
  width: 100% !important;
  min-width: 0 !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  flex: 1 1 0% !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Header container - ensure proper flex layout on mobile */
.kalifinder-widget-content .sticky.top-0,
.kalifinder-widget-content div.sticky.top-0 {
  width: 100% !important;
  box-sizing: border-box !important;
  overflow: visible !important;
}

/* Header inner container */
.kalifinder-widget-content .sticky.top-0 > div,
.kalifinder-widget-content div.sticky.top-0 > div {
  width: 100% !important;
  min-width: 0 !important;
  box-sizing: border-box !important;
  overflow: visible !important;
}

/* Mobile-specific fixes */
@media (max-width: 639px) {
  /* Ensure search bar container is visible on mobile */
  .kalifinder-widget-content [role='search'],
  .kalifinder-widget-content div[role='search'] {
    min-width: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    flex: 1 1 0% !important;
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Search input container on mobile */
  .kalifinder-widget-content .relative.flex-1,
  .kalifinder-widget-content div.relative.flex-1 {
    min-width: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    flex: 1 1 0% !important;
  }

  /* Search input on mobile - ensure it's visible */
  .kalifinder-widget-content [role='search'] input[type='text'],
  .kalifinder-widget-content [role='search'] input[id='search-input'],
  .kalifinder-widget-content input[id='search-input'] {
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    font-size: 16px !important; /* Prevent zoom on iOS */
    -webkit-appearance: none !important;
    appearance: none !important;
  }

  /* Header padding adjustments for mobile */
  .kalifinder-widget-content .sticky.top-0 {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }

  /* Ensure header flex container works on mobile */
  .kalifinder-widget-content .sticky.top-0 > div {
    gap: 0.5rem !important;
    flex-wrap: nowrap !important;
  }

  /* Search bar wrapper on mobile */
  .kalifinder-widget-content .sticky.top-0 > div > div.relative.flex {
    min-width: 0 !important;
    flex: 1 1 0% !important;
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* Small tablets - using default Tailwind responsive classes */

/* Ensure search bar is visible on all screen sizes */
@media (min-width: 768px) {
  .kalifinder-widget-content [role='search'],
  .kalifinder-widget-content div[role='search'] {
    min-width: 0 !important;
    flex: 1 1 0% !important;
  }
}

/* ========================================
   ADDITIONAL SEARCH BAR FIXES FOR ALL BROWSERS
   ======================================== */

/* Target search bar container directly by class structure */
.kalifinder-widget-content div.relative.flex.flex-1 {
  min-width: 0 !important;
  flex: 1 1 0% !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Ensure search input wrapper is visible */
.kalifinder-widget-content div[role='search'].flex {
  display: flex !important;
  width: 100% !important;
  min-width: 0 !important;
  flex: 1 1 0% !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Cross-browser compatibility for search input */
.kalifinder-widget-content input[type='text'][id='search-input'],
.kalifinder-widget-content input[id='search-input'] {
  /* Ensure input is always visible */
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;

  /* Prevent iOS zoom on focus */
  font-size: 16px !important;

  /* Cross-browser appearance reset */
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;

  /* Ensure proper sizing - flex within parent flex container */
  width: 100% !important;
  min-width: 0 !important;
  max-width: 100% !important;
  flex: 1 1 0% !important;
  box-sizing: border-box !important;

  /* Prevent text overflow */
  overflow: visible !important;
  text-overflow: ellipsis !important;
}

/* Header flex container fixes */
.kalifinder-widget-content div.sticky.top-0 > div.flex {
  display: flex !important;
  width: 100% !important;
  min-width: 0 !important;
  box-sizing: border-box !important;
  flex-wrap: nowrap !important;
}

/* Mobile-specific header container fixes */
@media (max-width: 639px) {
  /* Ensure header container doesn't overflow */
  .kalifinder-widget-content div.sticky.top-0 {
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
    box-sizing: border-box !important;
  }

  /* Header inner flex container */
  .kalifinder-widget-content div.sticky.top-0 > div {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    flex-wrap: nowrap !important;
    overflow: visible !important;
  }

  /* Search container on mobile */
  .kalifinder-widget-content div.sticky.top-0 > div > div.relative.flex.flex-1 {
    min-width: 0 !important;
    flex: 1 1 0% !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
  }

  /* Hide autocomplete toggle button on very small screens if needed */
  .kalifinder-widget-content div.sticky.top-0 > div > div.relative.flex.flex-1 > button.hidden {
    display: none !important;
  }
}

/* Tablet and up - ensure proper spacing */
@media (min-width: 640px) {
  .kalifinder-widget-content [role='search'] input[type='text'],
  .kalifinder-widget-content [role='search'] input[id='search-input'] {
    font-size: 16px !important; /* Still prevent iOS zoom */
  }
}
